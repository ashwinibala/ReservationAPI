c
cc
c
client_params = params.permit(:client_firstname, :client_lastname, :client_phone, :client_email, :contact_concent)
params
client_params
vehicle_params
c
cc
c
client_params = params.require(:schedule).permit(:client_email, :client_firstname, :client_lastname, :client_phone, :contact_concent)
client_params = params.permit('client_email', 'client_firstname', 'client_lastname', 'client_phone', 'contact_concent')
client_params
params
client_params = params.permit('client_email', 'client_firstname', 'client_lastname', 'client_phone', 'contact_concent')
params
vehicle_params = params.slice(:vin, :vehicle_brand, :vehicle_name, :licence_number, :make_year, :purchased_date, :warrenty_date, :insurance_details)
vehicle_params
c
client_params = params['schedule'].slice(:client_email, :client_firstname, :client_lastname, :client_phone, :contact_concent)
params
c
v
c
client_params = params['schedule'].slice(:client_email, :client_firstname, :client_lastname, :client_phone, :contact_concent)
client_params
client_params = params['schedule'].slice('client_email', 'client_firstname', 'client_lastname', 'client_phone', 'contact_concent')
params
c
params['schedule']
vehicle_params
c
parsed_params[:vehicle_params]
c
vehicle
c
parsed_params
params
vehicle
vehidcle
schedule
c
c 
c
commit
client = Client.create(parsed_params[:client_params])
existing_client = Client.find_by(phone: parsed_params[:client_params][:phone]) || Client.find_by(email: parsed_params[:client_params][:email])
parsed_params
c
parsed_params
c
schedule.persisted?
schedule
c
vehicle
c
vehicle = Vehicle.create(parsed_params[:vehicle_params].merge(client_id: client.id))
parsed_params[:vehicle_params]
vehicle_params
client
cleint
vehicle
vehicle = Vehicle.create(parsed_params[:vehicle_params].merge(client_id: client.id))
c
vehicle_params
c
vehicle_params
c
client_params
c
client_params.permit!
client_params = params['schedule'].slice('client_email', 'client_firstname', 'client_lastname', 'client_phone', 'contact_concent')
params
client_params = params.permit(:client_firstname, :client_lastname, :client_phone, :client_email, :contact_concent)
client_params
vehicle_params
n
c
parsed_params
params
client
c
parse_schedule_params(params)
params
parsed_params
parsed_params[:client_params]
client = Client.create(parsed_params[:client_params])
RAILS_ENV
client
vehicle
